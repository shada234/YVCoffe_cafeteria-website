<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×¤×¨×™×˜</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        /*  ×¢×™×¦×•×‘ ×”-Footer */
    .footer {
        text-align: center;
        font-size: 16px;
        margin-top: 20px;
        overflow-x: hidden;
        width: 100%;
    } 
    .footer-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f5ede9;
        width: 100vw; /* ×œ×¨×•×—×‘ ××œ× */
        max-width: 100%;
        padding: 5px 25px;
        box-sizing: border-box; /* ××•× ×¢ ×‘×¢×™×•×ª ×©×œ ×—×™×©×•×‘ ×©×•×œ×™×™× */
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        flex-direction: row-reverse;
    
    } 
    .footer-container h3 {
        color: rgb(0, 0, 0) !important; /* ××‘×˜×™×— ×©×”×›×•×ª×¨×•×ª ×™×”×™×• ×œ×‘× ×•×ª */
    }
    .footer-container p {
        color: rgb(0, 0, 0) !important; /* ×”×¤×™×›×ª ×›×œ ×”×˜×§×¡×˜×™× ×‘-footer ×œ×œ×‘×Ÿ */
    }
    .location {
        text-align: left; /* ××™×•×©×¨ ×œ×©×××œ */
        margin-left: 100px;

    }
    .footer-section-contact {
        text-align: right; /* ××™×•×©×¨ ×œ×™××™×Ÿ */
        margin-right: 100px;

    }
    .footer-section-contact a {
        color: rgb(0, 0, 0) !important; /* ×©×™× ×•×™ ×¦×‘×¢ ×œ×œ×‘×Ÿ */
        text-decoration: none !important; /* ×”×¡×¨×ª ×§×• ×ª×—×ª×•×Ÿ */
        font-weight: bold;
    }
    
    .footer-section-contact a:hover {
        text-decoration: underline !important; /* ×§×• ×ª×—×ª×•×Ÿ ×¨×§ ×›××©×¨ ×”×¢×›×‘×¨ ××¢×œ */
    }
    
    
    .footer-bottom {
        text-align: center;
        font-size: 14px;
        color: #f5f5f5;
    }
    
    .footer-logo {
        text-align: center;
    }

    .footer-logo img {
        max-width: 140px; /* ×’×•×“×œ ×”×œ×•×’×• */
        margin-left: 80px; /* ×¨×•×•×— ××”×§×¦×” ×”×©×××œ×™ */
    }

   /* ×¢×™×¦×•×‘ ×œ×”×§×¤×™×˜×¨×™×” ×”×‘×©×¨×™ (××’×© + ×ª×•×¡×¤×•×ª ) */
  .tray-section-inline {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin: 20px 0;
  direction: rtl;
}
.tray-section-inline h2 {
  margin: 0;
  font-size: 20px;
}

.empty-tray-inline {
  width: 60px;
  height: auto;
}

.addons-section {
  margin: 40px auto;
  max-width: 900px;
  padding: 10px 20px;
  direction: rtl;
}

.addon-category {
  display: inline-block;
  vertical-align: top;
  width: 30%;
  margin: 0 1%;
}

.addon-category h4 {
  font-size: 16px;
  margin-bottom: 10px;
  border-bottom: 1px solid #ccc;
  padding-bottom: 4px;
}

.addon-category label {
  display: block;
  margin-bottom: 5px;
  font-size: 14px;
}


    </style>
</head>
<body class="menuBody">
    <div class="station-header-bar">
      <div class="station-title-block" id="station-title">
      </div>
      <div class="search-wrapper">
        <i class="fas fa-search search-icon"></i>
        <input type="text" id="product-search" placeholder="×—×™×¤×•×© ××•×¦×¨×™×...">
      </div>
      <div id="tray-top"></div>

    </div>
  
    <script>
      function updateStationTitle(stationKey) {
        const stations = {
          cafeteria_dairy: { name: "×§×¤×˜×¨×™×” ×—×œ×‘×™×ª", img: "×§×¤×˜×¨×™×”_×—×œ×‘×™×ª.png" },
          snack_shop: { name: "×—× ×•×ª ×—×˜×™×¤×™×", img: "×—× ×•×ª_×—×˜×™×¤×™×.png" },
          coffee_bar: { name: "×‘×¨ ×§×¤×”", img: "×‘×¨_×§×¤×”.png" },
          service_bar: { name: "×‘×¨ ×©×™×¨×•×ª", img: "×‘×¨_×©×™×¨×•×ª.png" },
          cafeteria_meat: { name: "×§×¤×˜×¨×™×” ×‘×©×¨×™×ª", img: "×§×¤×˜×¨×™×”_×‘×©×¨×™×ª.png" }
        };
  
        const station = stations[stationKey];
        const stationTitle = document.getElementById("station-title");
  
        if (stationTitle && station) {
          stationTitle.innerHTML = `
            <span class="station-icon">ğŸ“</span>
            <span class="station-name-text">${station.name}</span>
            <img src="${station.img}" alt="${station.name}" class="station-small-img">
          `;
        }
      }
  
      // ×§×¨×™××” ×œ×¤×•× ×§×¦×™×” ×œ××—×¨ ×˜×¢×™× ×ª ×”×“×£
      const stationFromURL = new URLSearchParams(window.location.search).get("station");
      updateStationTitle(stationFromURL);
    </script>
  
      

    <!-- Navbar × ×˜×¢×Ÿ ×“×™× ××™×ª -->
    <div id="navbar-container"></div>
      <!-- ×ª×¤×¨×™×˜ -->
      <div id="menu-items" class="menu"></div>
      <div id="addons-bottom"></div>

    <!-- ×¤×•×˜×¨ -->
    <footer>
        <div class="footer-container">
            <div class="footer-section location">
                <h3> ××™×§×•×ğŸ“</h3>
                <p>××›×œ×œ×ª ×¢××§ ×™×–×¨×¢××œ</p>
            </div>
            <div class="footer-logo">
                <img src="logo2.png" alt="YVCoffee Logo">
            </div>
            <div class="footer-section-contact">
                <h3> ×¦×•×¨ ×§×©×¨âœ‰ï¸</h3>
                <p> <a href="mailto:support@yvcoffe.com">support@yvcoffe.comğŸ“§</a></p>
                <p> <a href="tel:041234567">04-1234567ğŸ“</a></p>
            </div>
        </div>
    </footer>  
    <!-- ×˜×¢×™× ×ª navbar ×•Ö¾script.js -->
    <script>
        fetch("navbar.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("navbar-container").innerHTML = data;
      
            const script = document.createElement("script");
            script.src = "script.js";
            script.onload = () => {
              console.log("âœ… script.js × ×˜×¢×Ÿ ××—×¨×™ navbar!");
              setupLoginStatus(); // ××¤×¢×™×œ ××ª ×”×”×ª×—×‘×¨×•×ª
            };
            document.body.appendChild(script);
          });
      </script>

    <!-- ×›×¤×ª×•×¨ ×—×–×¨×” ×œ××¢×œ×” ×•×œ×ª×—×ª×™×ª ------------------------------------->  
    <script>
        function scrollToTop() {
          window.scrollTo({
            top: 0,
            behavior: "smooth"
          });
        }
      </script>
<div class="floating-buttons">  
    <!-- ×›×¤×ª×•×¨ ×’×œ×™×œ×” ×œ××¢×œ×” -->
    <div class="floating-btn-wrapper" title="×—×–×•×¨ ×œ××¢×œ×”">
      <button onclick="scrollToTop()" class="floating-btn">â¬†</button>
      <span class="floating-label"></span>
    </div>
  </div>
  
<!--  ×—×œ×•×Ÿ ×§×•×¤×¥ ×œ×ª×•×¡×¤×•×ª --------------------------------------------------------------------->
<div id="menuModal" class="menu-modal" style="display: none">
  <div class="menu-modal-content">
    <span class="close-button-menu">&times;</span>
    <div id="menuModalContent"></div>
  </div>
</div>

<script>
  const menuModal = document.getElementById("menuModal");
  const menuModalContent = document.getElementById("menuModalContent");
  document.querySelector(".close-button-menu").onclick = () => (menuModal.style.display = "none");
  
  function openProductModal(product) {
  if (!product.extras) return;

  const multipleChoiceFields = ["base", "toppings", "cheese", "dressings", "fillings"];

  const extrasHTML = Object.entries(product.extras).map(([key, options]) => {
    if (!Array.isArray(options) || options.length === 0) return "";

    const isObject = typeof options[0] === "object";
    const isCheckbox = multipleChoiceFields.includes(key);

    const labelMap = {
      sizes: "×‘×—×¨×• ×’×•×“×œ ×›×•×¡",
      milkTypes: "×‘×—×¨×• ×¡×•×’ ×—×œ×‘",
      foam: "×œ×‘×—×™×¨×ª ×©×™× ×•×™×™×",
      base: "×‘×—×¨×• ×‘×¡×™×¡",
      toppings: "×‘×—×¨×• ×ª×•×¡×¤×•×ª",
      cheese: "×‘×—×¨×• ×’×‘×™× ×”",
      sauce: "×‘×—×¨×• ×¨×•×˜×‘",
      bread: "×‘×—×¨×• ×œ×—×",
      fillings: "×‘×—×¨×• ××™×œ×•×™",
      dressings: "×‘×—×¨×• ×¨×•×˜×‘ ×œ×¡×œ×˜"
    };

    const label = labelMap[key] || key;

    return `
      <div class="extras-column">
        <h4>${label}</h4>
        <div class="choice-options">
          ${options.map((opt, i) => {
            const name = isObject ? opt.name : opt;
            const price = isObject ? opt.price : 0;
            return `
              <label>
                <input type="${isCheckbox ? "checkbox" : "radio"}"
                       name="${key}${isCheckbox ? '[]' : ''}"
                       value="${name}"
                       data-price="${price}"
                       ${!isCheckbox && i === 0 ? "checked" : ""}>
                ${name} ${price > 0 ? "+ " + price + "â‚ª" : ""}
              </label>`;
          }).join("")}
        </div>
      </div>
    `;
  }).join("");

  menuModalContent.innerHTML = `
    <img src="${product.image}" alt="${product.name}" />
    <h2>${product.name}</h2>
    <form id="extrasForm">
      <div class="extras-row">
        ${extrasHTML}
      </div>

      <div style="text-align: center; margin-top: 20px">
        <label>×›××•×ª:
          <input type="number" name="quantity" min="1" value="1" style="width: 60px; text-align: center;">
        </label>
      </div>

      <div style="text-align: center; margin-top: 20px">
        <button type="submit">×œ×”×•×¡×™×£ ×œ×”×–×× ×”</button>
      </div>
    </form>
  `;

  menuModal.style.display = "flex";

  document.getElementById("extrasForm").onsubmit = function (e) {
    e.preventDefault();

    const qty = +this.quantity.value;
    let extrasText = [];
    let extrasPrice = 0;

    const selectedInputs = this.querySelectorAll("input[type='radio']:checked, input[type='checkbox']:checked");
    selectedInputs.forEach(input => {
      const value = input.value;
      const price = +input.dataset.price || 0;
      extrasText.push(value);
      extrasPrice += price;
    });

    // ×‘×“×™×§×ª ×ª×•×¡×¤×•×ª ×—×•×‘×” ×œ×¤×™ ×©× ×”××•×¦×¨
    const missing = [];

    if (product.name.includes("×¡×œ×˜") && !this.querySelector('input[name^="base"]:checked')) {
      missing.push("×‘×¡×™×¡ ×œ×¡×œ×˜");
    }

    if (product.name.includes("×¤×™×¦×”")) {
      if (!this.querySelector('input[name^="cheese"]:checked')) missing.push("×’×‘×™× ×”");
      if (!this.querySelector('input[name^="sauce"]:checked')) missing.push("×¨×•×˜×‘");
    }

    if (product.name.includes("×˜×•×¡×˜")) {
      if (!this.querySelector('input[name^="bread"]:checked')) missing.push("×œ×—×");
      if (!this.querySelector('input[name^="cheese"]:checked')) missing.push("×’×‘×™× ×”");
    }

    if (missing.length > 0) {
      alert("×× × ×‘×—×¨/×™: " + missing.join(", "));
      return;
    }

    const basePrice = parseInt(product.price);
    const total = (basePrice + extrasPrice) * qty;

    const cart = getCart();
    cart.push({
      name: `${product.name}${extrasText.length ? " (" + extrasText.join(", ") + ")" : ""}`,
      price: total,
      image: product.image,
      quantity: qty
    });

    saveCart(cart);
    updateCartCount();
    menuModal.style.display = "none";
  };
}


  </script>
    <script src="script.js"></script>

</body>
</html>




//